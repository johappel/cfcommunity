!function(a){var b={common:{init:function(){}},single:{init:function(){function b(){return{weight:1,opacity:.7,color:"black",fillOpacity:.8,fillColor:"#F5F5F5"}}function c(a,b){b.feature.id===g&&(h.fitBounds(b.getBounds()),b.setStyle({fillColor:"#4885A8"})),b.on({mousemove:d,mouseout:e,click:f})}function d(a){var b=a.target;b.feature.id!==g&&b.setStyle({weight:1,opacity:.6,fillOpacity:1,fillColor:"#48A86E"})}function e(a){a.target.feature.id!==g&&i.resetStyle(a.target)}function f(a){window.open("http://www.youthpolicy.org/factsheets/"+a.target.feature.properties.slug)}jQuery("body").is(".factsheet-pdf")&&(jQuery("#update-data").clone().prependTo(".wrap"),jQuery("#factsheet-name").clone().prependTo(".wrap"),jQuery(".copyright-text #copyright").clone().appendTo(".citations"),jQuery("#budget-spending, #budget-spending-wrap").clone().prependTo(".publications-reviews")),jQuery("#menu-main a").smoothScroll({offset:-110}),jQuery("#demoOne").listnav({includeNums:!1}),jQuery(".country-list").easyListSplitter({colNumber:1});var g=a("#country_code").html();L.mapbox.accessToken="pk.eyJ1IjoieW91dGhwb2xpY3kiLCJhIjoiWWotM2YtbyJ9.1wzsVRZdNfb3m6Nq0kapMA";var h=L.mapbox.map("map_single","youthpolicy.j79f7jig",{zoomControl:!0,maxZoom:8,minZoom:2}).setView([40,0],5),i=L.geoJson(countries,{style:b,onEachFeature:c}).addTo(h);h.touchZoom.disable(),h.doubleClickZoom.disable(),h.scrollWheelZoom.disable(),a("#map_single").slideUp("slow"),console.log("cdskalcjaslcs"),a("#map_navi").click(function(){a("#map_single").toggle("slow")})}},home:{init:function(){function b(a){if("undefined"!==a){var b=a.target,c=v;u.setLatLng(a.latlng),u.setContent('<div class="marker-title">'+b.feature.properties.name+"</div>"),u._map||u.openOn(S),c.innerHTML="<h2>"+b.feature.properties.name+"</h2>",c.innerHTML+='<table style="width: 300px"><tr><td>GDP</td><td>HDI</td><td>GINI</td></tr><tr><td>'+b.feature.properties.csv_gdp_figure+"</td><td>"+b.feature.properties.csv_hdi_figure+"</td><td>"+b.feature.properties.csv_gini_figure+"</td></tr></table>",c.innerHTML+="<h3>Is there a National Youth Policy?</h3>",c.innerHTML+="<p>"+b.feature.properties.national_policy+"</p>",c.innerHTML+="<p>"+b.feature.properties.national_policy_notes_pdf+"</p>",c.innerHTML+="<h3>Is there a Youth Ministry?</b></h3>",c.innerHTML+="<p>"+b.feature.properties.youth_ministry+"</p>",c.innerHTML+="<h3>Is there a national or regional Youth Council?</h3>",c.innerHTML+="<p>"+b.feature.properties.youth_civil_society+"</p>",c.innerHTML+='<img src="'+b.feature.properties.population_pyramid_image+'">',c.innerHTML+='<a href="'+b.feature.properties.population_source_url+'">Some Source that you know</a>',c.innerHTML+="<p>"+b.feature.properties.population_image_notes+"</p>"}}function c(){closeTooltip=window.setTimeout(function(){S.closePopup()},100)}function d(a){var b=a.target;if(y===!0){var c=w;c.innerHTML="<h2>"+b.feature.properties.name+"</h2>",c.innerHTML+='<table style="width: 300px"><tr><td>GDP</td><td>HDI</td><td>GINI</td></tr><tr><td>'+b.feature.properties.csv_gdp_figure+"</td><td>"+b.feature.properties.csv_hdi_figure+"</td><td>"+b.feature.properties.csv_gini_figure+"</td></tr></table>",c.innerHTML+="<h3>Is there a National Youth Policy?</h3>",c.innerHTML+="<p>"+b.feature.properties.national_policy+"</p>",c.innerHTML+="<p>"+b.feature.properties.national_policy_notes_pdf+"</p>",c.innerHTML+="<h3>Is there a Youth Ministry?</b></h3>",c.innerHTML+="<p>"+b.feature.properties.youth_ministry+"</p>",c.innerHTML+="<h3>Is there a national or regional Youth Council?</h3>",c.innerHTML+="<p>"+b.feature.properties.youth_civil_society+"</p>",c.innerHTML+='<img src="'+b.feature.properties.population_pyramid_image+'">',c.innerHTML+='<a href="'+b.feature.properties.population_source_url+'">Some Source that you know</a>',c.innerHTML+="<p>"+b.feature.properties.population_image_notes+"</p>",c.innerHTML+='<br><br><br><a target="_blank" href="/factsheets/country/'+b.feature.properties.slug+'"><h3>See the full Factsheet for '+b.feature.properties.name+"</h3></a>"}else if(y===!1){var d,e,f,g,h,i,j=b.feature.properties;switch(t){case"csv_voting_age_figure":d="Minimum Voting Age: ",j.csv_voting_age_source_1&&(e='Source: <a target="_blank" href="'+j.csv_voting_age_source_1_url+'">'+j.csv_voting_age_source_1+"</a>"),j.csv_voting_age_source_2&&(f='Source: <a target="_blank" href="'+j.csv_voting_age_source_2_url+'">'+j.csv_voting_age_source_2+"</a>"),j.csv_voting_age_notes&&(g=j.csv_voting_age_notes);break;case"age_of_majority":d="Age of Majority: ",g="",e=j.majority_notes_html,f="";break;case"csv_candidacy_age_lower_figure":d="Candidacy Lower house: ",""!==j.csv_candidacy_age_lower_source_1_url&&(e='Source: <a target="_blank" href="'+j.csv_candidacy_age_lower_source_1_url+'">'+j.csv_candidacy_age_lower_source_1+"</a>"),""!==j.csv_candidacy_age_lower_source_2_url&&(f='Source: <a target="_blank" href="'+j.csv_candidacy_age_lower_source_2_url+'">'+j.csv_candidacy_age_lower_source_2+"</a>"),""!==j.csv_candidacy_age_lower_notes&&(g=j.csv_candidacy_age_lower_notes);break;case"csv_candidacy_age_upper_figure":d="Candidacy Upper house: ",e='Source: <a target="_blank" href="'+j.csv_candidacy_age_upper_source_1_url+'">'+j.csv_candidacy_age_upper_source_1+"</a>",f='Source: <a target="_blank" href="'+j.csv_candidacy_age_upper_source_2_url+'">'+j.csv_candidacy_age_upper_source_2+"</a>",g=j.csv_candidacy_age_upper_notes;break;case"csv_macr_figure":d="Age of Criminal Responsibility: ",j.csv_macr_source_1_url&&(e='Source: <a target="_blank" href="'+j.csv_macr_source_1_url+'">'+j.csv_macr_source_1+"</a>"),j.csv_macr_source_2_url&&(f='Source: <a target="_blank" href="'+j.csv_macr_source_2_url+'">'+j.csv_macr_source_2+"</a>"),j.csv_macr_notes&&(g=j.csv_macr_notes);break;case"csv_tobacco_both_figure":d="Tobacco Use - Both Sexes (15-24): ",h="Male (15-24): "+j.csv_tobacco_male_figure,i="Female (15-24): "+j.csv_tobacco_female_figure,e='Source: <a target="_blank" href="http://apps.who.int/gho/data/node.main.1259?lang=en">WHO</a>',f="",g="";break;case"csv_literacy_both_figure":d="Literacy Rate - Both Sexes (15-24): ",h="Male (15-24): "+j.csv_literacy_male_figure,i="Female (15-24): "+j.csv_literacy_female_figure,e='Source: <a target="_blank" href="http://www.uis.unesco.org/literacy/Pages/default.aspx">UNESCO</a>',f="",g="";break;case"national_policy":d="Is there a national Youth Policy? ",e="",f="",g="";break;case"youth_ministry":d="Is there a governmental authority that is primarily responsible for youth? ",e="",f="",g="";break;case"youth_civil_society":d="Does the country have national and/or regional youth council(s)? ",e="",f="",g="";break;case"csv_enrollment_both_figure":d="Secondary School - Both Sexes (15-24):",h="Male (15-24): "+j.csv_enrollment_male_figure,i="Female (15-24): "+j.csv_enrollment_female_figure,e='Source: <a target="_blank" href="http://data.un.org/Data.aspx?d=UNESCO&f=series%3ANER_23">UNESCO</a>',f="",g="";break;case"csv_ydi_figure":d="Youth Development Index",e="",f="",g=j.csv_ydi_rank}x.innerHTML="<h4>"+j.name+"</h4>",x.innerHTML+='<a target="_blank" href="/factsheets/country/'+j.slug+'">See the countryÂ´s full Fact Sheet</a><br><br>',d&&(x.innerHTML+="<h5>"+d+"</h5>"),x.innerHTML+="<h4>"+j[t]+"</h4><br>",("csv_enrollment_both_figure"===t||"csv_literacy_both_figure"===t||"csv_tobacco_both_figure"===t)&&(x.innerHTML+="<p>"+h+"</p>",x.innerHTML+="<p>"+i+"</p>"),g&&(x.innerHTML+="<p>"+g+"</p>"),e&&(x.innerHTML+="<p>"+e+"</p>"),f&&(x.innerHTML+="<p>"+f+"</p>")}}function e(a,d){d.on({mousemove:b,mouseout:c}),d.on("dblclick",function(a){window.open("http://www.youthpolicy.org/factsheets/"+a.target.feature.properties.slug,"_blank")})}function f(){return{weight:1,opacity:.7,color:"black",fillOpacity:.8,fillColor:"#F2F2F2"}}function g(a){return a=parseInt(a,10),a>=R[7]?Q[R[7]]:a>=R[6]?Q[R[6]]:a>=R[5]?Q[R[5]]:a>=R[4]?Q[R[4]]:a>=R[3]?Q[R[3]]:a>=R[2]?Q[R[2]]:a>=R[1]?Q[R[1]]:a>=R[0]?Q[R[0]]:"#F8F8F8"}function h(a){return z[a]?z[a]:"#F8F8F8"}function i(a){return A[a]?A[a]:"#F8F8F8"}function j(a){return B[a]?B[a]:"#F8F8F8"}function k(a){return C[a]?C[a]:"#F8F8F8"}function l(a){return a>=E[0]?D[E[0]]:a>=E[1]?D[E[1]]:a>=E[2]?D[E[2]]:a>=E[3]?D[E[3]]:a>=E[4]?D[E[4]]:a>=E[5]?D[E[5]]:a>=E[6]?D[E[6]]:a>=E[7]?D[E[7]]:a>=E[8]?D[E[8]]:"#F8F8F8"}function m(a){return"--"===a?"#ccc":(a=parseInt(a,10),a>=G[6]?F[G[6]]:a>=G[5]?F[G[5]]:a>=G[4]?F[G[4]]:a>=G[3]?F[G[3]]:a>=G[2]?F[G[2]]:a>=G[1]?F[G[1]]:a>=G[0]?F[G[0]]:"#F8F8F8")}function n(a){return a=parseInt(a,10),a>=I[5]?H[I[5]]:a>=I[4]?H[I[4]]:a>=I[3]?H[I[3]]:a>=I[2]?H[I[2]]:a>=I[1]?H[I[1]]:a>=I[0]?H[I[0]]:"#F8F8F8"}function o(a){return a=parseInt(a,10),a>=K[8]?J[K[8]]:a>=K[7]?J[K[7]]:a>=K[6]?J[K[6]]:a>=K[5]?J[K[5]]:a>=K[4]?J[K[4]]:a>=K[3]?J[K[3]]:a>=K[2]?J[K[2]]:a>=K[1]?J[K[1]]:a>=K[0]?J[K[0]]:"#F8F8F8"}function p(a){return a=parseInt(a,10),a>=N[8]?M[N[8]]:a>=N[7]?M[N[7]]:a>=N[6]?M[N[6]]:a>=N[5]?M[N[5]]:a>=N[4]?M[N[4]]:a>=N[3]?M[N[3]]:a>=N[2]?M[N[2]]:a>=N[1]?M[N[1]]:a>=N[0]?M[N[0]]:"#F8F8F8"}function q(a){return a=parseInt(a,10),a>=P[5]?O[P[5]]:a>=P[4]?O[P[4]]:a>=P[3]?O[P[3]]:a>=P[2]?O[P[2]]:a>=P[1]?O[P[1]]:a>=P[0]?O[P[0]]:"#F8F8F8"}function r(b,c){a("#legend").empty(),a("#map_title").empty(),a.each(b,function(b,d){"--"===b&&(c=""),a("#legend").append("<span style='background: "+d+"' class='colorbox'>"+b+" "+c+"</span>")}),a("#legend").append("<span style='background: #F8F8F8' class='colorbox'>N/A</span>")}function s(b){t=b,"csv_tobacco_both_figure"===b?(r(O,"%"),a("#map_title").prepend("<span class='legend_title'>Tobacco Use Both Sexes</span><br>")):"csv_literacy_both_figure"===b?(r(J,"%"),a("#map_title").prepend("<span class='legend_title'>Literacy Figure Both Sexes</span><br>")):"youth_ministry"===b?(r(z,"",""),a("#map_title").prepend("<span class='legend_title'>Is there a Youth Ministry?</span><br>")):"youth_civil_society"===b?(r(z,"",""),a("#map_title").prepend("<span class='legend_title'>Is there a national or regional Youth Council?</span><br>")):"national_policy"===b?(r(A,"",""),a("#map_title").prepend("<span class='legend_title'>Is there a National Youthpolicy?</span><br>")):"csv_voting_age_figure"===b?(r(B,"y"),a("#map_title").prepend("<span class='legend_title'>Minimum Voting Age</span><br>")):"csv_macr_figure"===b?(r(Q,"y"),a("#map_title").prepend("<span class='legend_title'>Age of Criminal Responsibility</span><br>")):"age_of_majority"===b?(r(C,"y"),a("#map_title").prepend("<span class='legend_title'>Age of Majority</span><br>")):"csv_candidacy_age_lower_figure"===b?(r(H,"y"),a("#map_title").prepend("<span class='legend_title'>Candidacy Lower House</span><br>")):"csv_candidacy_age_upper_figure"===b?(r(F,"y"),a("#map_title").prepend("<span class='legend_title'>Candidacy Upper House</span><br>")):"csv_enrollment_both_figure"===b?(r(M,"%"),a("#map_title").prepend("<span class='legend_title'>Net Enrollment Rate - Secondary School</span><br>")):"csv_ydi_figure"===b&&(r(D,""),a("#map_title").prepend("<span class='legend_title'>Youth Development Index</span><br>")),T.eachLayer(function(a){"csv_tobacco_both_figure"===b?a.setStyle({fillColor:q(a.feature.properties[b])}):"csv_literacy_both_figure"===b?a.setStyle({fillColor:o(a.feature.properties[b])}):"youth_ministry"===b||"youth_civil_society"===b?a.setStyle({fillColor:h(a.feature.properties[b])}):"national_policy"===b?a.setStyle({fillColor:i(a.feature.properties[b])}):"csv_voting_age_figure"===b?a.setStyle({fillColor:j(a.feature.properties[b])}):"csv_macr_figure"===b?a.setStyle({fillColor:g(a.feature.properties[b])}):"age_of_majority"===b?a.setStyle({fillColor:k(a.feature.properties[b])}):"csv_candidacy_age_lower_figure"===b?a.setStyle({fillColor:n(a.feature.properties[b])}):"csv_candidacy_age_upper_figure"===b?a.setStyle({fillColor:m(a.feature.properties[b])}):"csv_enrollment_both_figure"===b?a.setStyle({fillColor:p(a.feature.properties[b])}):"csv_ydi_figure"===b&&a.setStyle({fillColor:l(a.feature.properties[b])}),a.on({mouseout:c,click:d})})}var t,u=new L.Popup({closeButton:!1,autoPan:!1}),v=document.getElementById("miniFSright"),w=document.getElementById("miniFSleft"),x=document.getElementById("infobox"),y=!1,z={Yes:"#2166ac",No:"#b2182b",Unclear:"#fddbc7"},A={Yes:"#2166ac",Draft:"#92c5de",Unclear:"#fddbc7",No:"#b2182b"},B={21:"#08519c",20:"#3182bd",19:"#6baed6",18:"#bdd7e7",16:"#eff3ff"},C={21:"#f7fbff",20:"#c6dbef",19:"#c6dbef",18:"#9ecae1",17:"#6baed6",16:"#4292c6",15:"#2171b5",9:"#084594"},D={.9:"#fff5eb",.8:"#fee6ce",.7:"#fdd0a2",.6:"#fdae6b",.5:"#fd8d3c",.4:"#f16913",.3:"#d94801",.2:"#a63603",.1:"#7f2704"},E=Object.keys(D),F={"--":"#ccc",45:"#6e016b",40:"#88419d",35:"#8c6bb1",30:"#8c96c6",25:"#9ebcda",21:"#bfd3e6",18:"#edf8fb"},G=Object.keys(F),H={35:"#6e016b",30:"#88419d",25:"#8c6bb1",21:"#8c96c6",18:"#9ebcda",17:"#bfd3e6"},I=Object.keys(H),J={99:"#ffffcc",95:"#ffeda0",90:"#fed976",80:"#feb24c",70:"#fd8d3c",60:"#fc4e2a",50:"#e31a1c",40:"#bd0026",30:"#800026"},K=Object.keys(J),M={90:"#ffffcc",80:"#ffeda0",70:"#fed976",60:"#feb24c",50:"#fd8d3c",40:"#fc4e2a",30:"#e31a1c",20:"#bd0026",10:"#800026"},N=Object.keys(M),O={50:"#993404",40:"#d95f0e",30:"#fe9929",20:"#fec44f",10:"#fee391",1:"#ffffd4"},P=Object.keys(O),Q={18:"#ffffd9",16:"#edf8b1",14:"#c7e9b4",12:"#7fcdbb",10:"#41b6c4",8:"#1d91c0",7:"#225ea8",0:"#0c2c84"},R=Object.keys(Q);L.mapbox.accessToken="pk.eyJ1IjoieW91dGhwb2xpY3kiLCJhIjoiWWotM2YtbyJ9.1wzsVRZdNfb3m6Nq0kapMA";var S=L.mapbox.map("map","youthpolicy.k6m8j17n",{zoomControl:!0,maxZoom:8,minZoom:2}).setView([40,0],2),T=L.geoJson(factsheets,{style:f,onEachFeature:e}).addTo(S);S.touchZoom.disable(),S.doubleClickZoom.disable(),S.scrollWheelZoom.disable(),s("national_policy"),a("#choropleths .btn").click(function(){s(a(this).attr("rel")),a("#infobox").empty().html("<br><h2> Click on any Country to see facts</h2>")}),a("#continent-menu li a").click(function(){var b=a(this).data("swlat"),c=a(this).data("swlon"),d=a(this).data("nelat"),e=a(this).data("nelon");S.fitBounds([[b,c],[d,e]])}),a("#compare").click(function(){var b=a(this).data("clicks");b?(a(".miniFS").hide(),a("#choropleths").show(),a(".leaflet-control-container").show(),a("#infobox").show(),y=!1):(a(".miniFS").show(),a("#choropleths").hide(),a(".leaflet-control-container").hide(),a("#infobox").hide(),y=!0),a(this).data("clicks",!b)}),a("#reset").click(function(){T.eachLayer(function(a){T.resetStyle(a)}),a("#legend").find("span").remove(),a("#infobox").empty().html("<br><h2> Click on any Country to see facts</h2>")})}},about_us:{init:function(){}}},c={fire:function(a,c,d){var e=b;c=void 0===c?"init":c,""!==a&&e[a]&&"function"==typeof e[a][c]&&e[a][c](d)},loadEvents:function(){c.fire("common"),a.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(a,b){c.fire(b)})}};a(document).ready(c.loadEvents)}(jQuery);